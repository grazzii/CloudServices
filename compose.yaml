services:
  backend:
    environment:
      spring.datasource.url=jdbc:mysql://lab.cn00y8o8m69e.us-east-1.rds.amazonaws.com:3306/admin
      spring.datasource.username=admin
      spring.datasource.password=bancodedados
      spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver

      spring.jpa.hibernate.ddl-auto=update
      spring.jpa.show-sql=true
      spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQLDialect
      spring.jpa.properties.hibernate.format_sql=true
      debug=true

    build: ./demo    # ← Deve apontar para pasta demo
    ports:
      - "8080:8080"

  frontend:
    build: ./frontend  # ← Deve apontar para pasta frontend
    ports:
      - "3000:3000"

  
 # mysql:
   # image: mysql:8.0
    #environment:
   #   MYSQL_ROOT_PASSWORD: root
     # MYSQL_DATABASE: portaldoacao
    #  MYSQL_ROOT_HOST: '%'
   # ports:
   #   - "3306:3306"
   # healthcheck:
   #   test: ["CMD", "mysqladmin", "ping", "-h", "localhost"]
    #  timeout: 20s
     # retries: 10

